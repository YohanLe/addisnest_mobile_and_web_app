import React, { useState } from "react";
import Api from "../../../Apis/Api";
import { toast } from "react-toastify";
import { ValidateContactus } from "../../../utils/Validation";
const ContactUs = () => {

    const [Loading, setLoading] = useState(false);
    const [error, setError] = useState({ isValid: false });
    const [inps, setInps] = useState({
        first_name: '',
        last_name: '',
        phone: '',
        message: '',
        email: '',
    })
    const onInpChanged = (event) => {
        setError(p => {
            const obj = { ...p }
            obj?.errors && delete obj?.errors[event?.target?.name]
            return obj
        })
        setInps((prevInputs) => ({ ...prevInputs, [event.target.name]: event.target.value }));
    };

    const ContactusFun = async () => {
        const errorMessage = ValidateContactus(inps);
        if (errorMessage.isValid == false) {
            setError(errorMessage);
        } else {

            try {
                let body = {
                    email: inps.email,
                    firstName: inps.first_name,
                    lastName: inps.last_name,
                    phone: inps.phone,
                    message: inps.message,
                }
                let formData = new FormData();
                for (let key in body) {
                    formData.append(key, body[key]);
                }
                setLoading(true);
                const response = await Api.postWithtoken("auth/contact", body);
                const { data, message } = response;
                toast.success(message);
                setInps({
                    first_name: '',
                    last_name: '',
                    phone: '',
                    message: '',
                    email: '',
                })
            } catch (error) {
                toast.error(error.response.data.message);
                setLoading(false);
            }
        }
    };

    return (
        <>
            <section className="common-section contactus-main">
                <div className="container">
                    <div className="contactus-heading">
                        <h3>Contact Us</h3>
                        <p>
                            Get in touch with our dedicated team for all your real estate
                            needs. Whether you're buying, selling, or renting, we're here to
                            help you every step of the way.
                        </p>
                    </div>
                    <div className="contact-detail">
                        <div className="main-flex">
                            <div className="inner-flex-50">
                                <div className="form-flex">
                                    <div className="form-inner-flex-50">
                                        <div className="single-input">
                                            <label for="">First Name</label>
                                            <input
                                                type="text"
                                                placeholder="Enter Your "
                                                name="first_name"
                                                onChange={onInpChanged}
                                                value={inps?.first_name}
                                                className={`${error.errors?.first_name ? "alert-input" : ""}`}
                                            />
                                            {error.errors?.first_name && <p className="error-input-msg">{error.errors?.first_name}</p>}
                                        </div>
                                    </div>
                                    <div className="form-inner-flex-50">
                                        <div className="single-input">
                                            <label for="">Last Name</label>
                                            <input
                                                type="text"
                                                placeholder="Enter Your "
                                                name="last_name"
                                                value={inps?.last_name}
                                                onChange={onInpChanged}
                                                className={`${error.errors?.last_name ? "alert-input" : ""}`}
                                            />
                                            {error.errors?.last_name && <p className="error-input-msg">{error.errors?.last_name}</p>}
                                        </div>
                                    </div>
                                    <div className="form-inner-flex-100">
                                        <div className="single-input">
                                            <label for="">Email</label>
                                            <input
                                                type="email"
                                                placeholder="Enter Your "
                                                name="email"
                                                value={inps?.email}
                                                onChange={onInpChanged}
                                                className={`${error.errors?.email ? "alert-input" : ""}`}
                                            />
                                            {error.errors?.email && <p className="error-input-msg">{error.errors?.email}</p>}
                                        </div>
                                    </div>
                                    <div className="form-inner-flex-100">
                                        <div className="single-input">
                                            <label for="">Phone Number</label>
                                            <input
                                                type="number"
                                                placeholder="Enter Your "
                                                name="phone"
                                                value={inps?.phone}
                                                onChange={onInpChanged}
                                                className={`${error.errors?.phone ? "alert-input" : ""}`}
                                            />
                                            {error.errors?.phone && <p className="error-input-msg">{error.errors?.phone}</p>}
                                        </div>
                                    </div>
                                    <div className="form-inner-flx-100">
                                        <div className="single-input">
                                            <label for="">Message</label>
                                            <textarea
                                                type="text"
                                                placeholder="Enter Your"
                                                cols={4}
                                                rows={5}
                                                name="message"
                                                value={inps?.message}
                                                onChange={onInpChanged}
                                                className={`${error.errors?.message ? "alert-input" : ""}`}
                                            />
                                            {error.errors?.message && <p className="error-input-msg">{error.errors?.message}</p>}
                                        </div>
                                    </div>
                                </div>
                                <div className="contactus-btn">
                                    <button onClick={ContactusFun} className="btn btn-secondary">Send Message</button>
                                </div>
                            </div>
                            <div className="inner-flex-50">
                                <div className="contact-rght-detail">
                                    <h4>Chat with us</h4>
                                    <p>Speak to our friendly via live chat.</p>
                                    <ul>
                                        <li>
                                            <div className="contct-rght-list">
                                                <span>
                                                    <svg
                                                        width="24"
                                                        height="24"
                                                        viewBox="0 0 24 24"
                                                        fill="none"
                                                        xmlns="http://www.w3.org/2000/svg"
                                                    >
                                                        <path
                                                            d="M19.8325 4H10.4312C9.02875 4 7.88875 4.9375 7.88875 6.08875V6.985H3.33625C2.04625 6.985 1 7.8475 1 8.90875V14.8412C1 15.9025 2.04625 16.765 3.33625 16.765H4.24375L7.3225 19.6337C7.39118 19.6993 7.48259 19.7356 7.5775 19.735C7.62908 19.7359 7.68025 19.7257 7.7275 19.705C7.79426 19.6753 7.85102 19.6269 7.89094 19.5657C7.93085 19.5045 7.95223 19.4331 7.9525 19.36V16.765H11.8187C13.1087 16.765 14.155 15.9025 14.155 14.8412V14.755H14.755V17.665C14.7551 17.7386 14.7768 17.8106 14.8175 17.8719C14.8581 17.9333 14.916 17.9813 14.9838 18.01C15.0296 18.031 15.0796 18.0413 15.13 18.04C15.2253 18.0402 15.3173 18.0055 15.3888 17.9425L18.8125 14.755H19.8325C21.235 14.755 22.375 13.8175 22.375 12.6625V6.08875C22.375 4.9375 21.235 4 19.8325 4ZM13.405 14.8412C13.405 15.4788 12.6775 16.015 11.8187 16.015H7.5775C7.47804 16.015 7.38266 16.0545 7.31234 16.1248C7.24201 16.1952 7.2025 16.2905 7.2025 16.39V18.4975L4.645 16.1163C4.57584 16.0515 4.48474 16.0153 4.39 16.015H3.33625C2.4625 16.015 1.75 15.49 1.75 14.8412V8.90875C1.75 8.26375 2.4625 7.735 3.33625 7.735H7.88875V12.6625C7.88875 13.8175 9.02875 14.755 10.4312 14.755H13.405V14.8412ZM21.625 12.6625C21.625 13.4012 20.8188 14.005 19.8325 14.005H18.6625C18.5684 14.0048 18.4775 14.0396 18.4075 14.1025L15.505 16.8062V14.38C15.5055 14.3306 15.4961 14.2816 15.4775 14.2359C15.4588 14.1902 15.4312 14.1486 15.3963 14.1137C15.3614 14.0788 15.3198 14.0512 15.2741 14.0325C15.2284 14.0139 15.1794 14.0045 15.13 14.005H10.4312C9.445 14.005 8.63875 13.4012 8.63875 12.6625V6.08875C8.63875 5.35 9.445 4.75 10.4312 4.75H19.8325C20.8188 4.75 21.625 5.35 21.625 6.08875V12.6625Z"
                                                            fill="#24292E"
                                                            stroke="#24292E"
                                                        />
                                                        <path
                                                            d="M11.6662 8.04004C11.3886 8.04041 11.1173 8.12304 10.8866 8.2775C10.656 8.43196 10.4763 8.65131 10.3702 8.90785C10.2642 9.16439 10.2365 9.4466 10.2907 9.71885C10.345 9.9911 10.4787 10.2412 10.675 10.4375C10.8713 10.6337 11.1214 10.7675 11.3936 10.8217C11.6659 10.876 11.9481 10.8483 12.2046 10.7422C12.4612 10.6362 12.6805 10.4565 12.835 10.2258C12.9894 9.99515 13.0721 9.72389 13.0724 9.44629C13.0723 9.07336 12.9241 8.71573 12.6604 8.45203C12.3967 8.18833 12.0391 8.04014 11.6662 8.04004ZM11.6662 10.0988C11.5367 10.0984 11.4103 10.0597 11.3029 9.98746C11.1955 9.91525 11.112 9.81281 11.0628 9.6931C11.0136 9.57339 11.001 9.44178 11.0266 9.31492C11.0522 9.18805 11.1149 9.07163 11.2067 8.98038C11.2984 8.88913 11.4152 8.82714 11.5422 8.80225C11.6692 8.77737 11.8008 8.7907 11.9202 8.84057C12.0396 8.89044 12.1416 8.97461 12.2132 9.08242C12.2848 9.19024 12.3228 9.31687 12.3224 9.44629C12.3214 9.61969 12.2519 9.78564 12.1289 9.90791C12.0059 10.0302 11.8396 10.0988 11.6662 10.0988Z"
                                                            fill="#24292E"
                                                            stroke="#24292E"
                                                            stroke-width="0.5"
                                                        />
                                                        <path
                                                            d="M15.4425 8.04004C15.1649 8.04041 14.8937 8.12304 14.663 8.2775C14.4324 8.43196 14.2526 8.65131 14.1466 8.90785C14.0405 9.16439 14.0129 9.4466 14.0671 9.71885C14.1214 9.9911 14.2551 10.2412 14.4514 10.4375C14.6477 10.6337 14.8977 10.7675 15.17 10.8217C15.4422 10.876 15.7244 10.8483 15.981 10.7422C16.2375 10.6362 16.4569 10.4565 16.6113 10.2258C16.7658 9.99515 16.8484 9.72389 16.8488 9.44629C16.8488 9.2616 16.8125 9.07872 16.7418 8.90808C16.6712 8.73745 16.5676 8.5824 16.437 8.45181C16.3064 8.32122 16.1514 8.21764 15.9807 8.14698C15.8101 8.07633 15.6272 8.03999 15.4425 8.04004ZM15.4425 10.0988C15.3131 10.0984 15.1867 10.0597 15.0793 9.98746C14.9719 9.91525 14.8883 9.81281 14.8391 9.6931C14.79 9.57339 14.7774 9.44178 14.803 9.31492C14.8286 9.18805 14.8913 9.07163 14.983 8.98038C15.0748 8.88913 15.1916 8.82714 15.3186 8.80225C15.4456 8.77737 15.5771 8.7907 15.6966 8.84057C15.816 8.89044 15.918 8.97461 15.9895 9.08242C16.0611 9.19024 16.0992 9.31687 16.0988 9.44629C16.0987 9.53228 16.0817 9.61741 16.0487 9.6968C16.0156 9.77619 15.9672 9.84827 15.9062 9.9089C15.8453 9.96953 15.7729 10.0175 15.6933 10.0501C15.6138 10.0827 15.5285 10.0992 15.4425 10.0988Z"
                                                            fill="#24292E"
                                                            stroke="#24292E"
                                                            stroke-width="0.5"
                                                        />
                                                        <path
                                                            d="M19.2228 8.04004C18.9452 8.04041 18.674 8.12304 18.4433 8.2775C18.2126 8.43196 18.0329 8.65131 17.9269 8.90785C17.8208 9.16439 17.7931 9.4466 17.8474 9.71885C17.9016 9.9911 18.0354 10.2412 18.2316 10.4375C18.4279 10.6337 18.678 10.7675 18.9502 10.8217C19.2225 10.876 19.5047 10.8483 19.7613 10.7422C20.0178 10.6362 20.2371 10.4565 20.3916 10.2258C20.5461 9.99515 20.6287 9.72389 20.6291 9.44629C20.629 9.07336 20.4808 8.71573 20.2171 8.45203C19.9534 8.18833 19.5957 8.04014 19.2228 8.04004ZM19.2228 10.0988C19.0934 10.0984 18.967 10.0597 18.8596 9.98746C18.7522 9.91525 18.6686 9.81281 18.6194 9.6931C18.5702 9.57339 18.5576 9.44178 18.5833 9.31492C18.6089 9.18805 18.6715 9.07163 18.7633 8.98038C18.8551 8.88913 18.9719 8.82714 19.0989 8.80225C19.2259 8.77737 19.3574 8.7907 19.4768 8.84057C19.5963 8.89044 19.6982 8.97461 19.7698 9.08242C19.8414 9.19024 19.8794 9.31687 19.8791 9.44629C19.8789 9.53225 19.8618 9.61734 19.8287 9.69668C19.7957 9.77603 19.7473 9.84806 19.6863 9.90867C19.6253 9.96928 19.553 10.0173 19.4735 10.0499C19.394 10.0825 19.3088 10.0991 19.2228 10.0988Z"
                                                            fill="#24292E"
                                                            stroke="#24292E"
                                                            stroke-width="0.5"
                                                        />
                                                    </svg>
                                                </span>
                                                <p>Start with live chat</p>
                                            </div>
                                        </li>
                                        <li>
                                            <div className="contct-rght-list">
                                                <span>
                                                    <svg
                                                        width="18"
                                                        height="16"
                                                        viewBox="0 0 18 16"
                                                        fill="none"
                                                        xmlns="http://www.w3.org/2000/svg"
                                                    >
                                                        <path
                                                            d="M16.8 8.92497L1.4 15.425C1.06667 15.5583 0.75 15.5291 0.45 15.3375C0.15 15.1458 0 14.8666 0 14.5V1.49997C0 1.1333 0.15 0.854138 0.45 0.662471C0.75 0.470805 1.06667 0.441638 1.4 0.574971L16.8 7.07497C17.2167 7.2583 17.425 7.56664 17.425 7.99997C17.425 8.4333 17.2167 8.74164 16.8 8.92497ZM2 13L13.85 7.99997L2 2.99997V6.49997L8 7.99997L2 9.49997V13Z"
                                                            fill="#24292E"
                                                        />
                                                    </svg>
                                                </span>
                                                <p>Shoot as an email</p>
                                            </div>
                                        </li>
                                        <li>
                                            <div className="contct-rght-list">
                                                <span>
                                                    <svg
                                                        width="20"
                                                        height="20"
                                                        viewBox="0 0 20 20"
                                                        fill="none"
                                                        xmlns="http://www.w3.org/2000/svg"
                                                    >
                                                        <path
                                                            d="M14.7993 11.4922C14.7603 11.4735 13.3023 10.7555 13.0432 10.6623C12.9374 10.6243 12.8241 10.5872 12.7036 10.5872C12.5067 10.5872 12.3413 10.6853 12.2125 10.878C12.0668 11.0945 11.6259 11.6099 11.4897 11.7639C11.4719 11.7842 11.4476 11.8085 11.4331 11.8085C11.42 11.8085 11.1944 11.7156 11.126 11.6859C9.56195 11.0065 8.37475 9.37265 8.21196 9.09713C8.18871 9.05752 8.18773 9.03954 8.18754 9.03954C8.19325 9.01856 8.24585 8.96584 8.27299 8.93863C8.35241 8.86006 8.43845 8.75649 8.5217 8.65629C8.56111 8.60882 8.60059 8.56129 8.63936 8.51649C8.76014 8.37597 8.8139 8.26687 8.87624 8.14051L8.9089 8.07486C9.06111 7.77246 8.93111 7.51726 8.8891 7.43486C8.85462 7.3659 8.23897 5.88006 8.17351 5.72395C8.01611 5.34726 7.80812 5.17188 7.5191 5.17188C7.49228 5.17188 7.5191 5.17187 7.40663 5.17662C7.26968 5.18239 6.5239 5.28058 6.19416 5.48843C5.84449 5.70889 5.25293 6.41162 5.25293 7.64746C5.25293 8.75973 5.95877 9.80993 6.26183 10.2093C6.26936 10.2194 6.28319 10.2399 6.30325 10.2692C7.46384 11.9641 8.91066 13.2203 10.3773 13.8062C11.7894 14.3702 12.458 14.4354 12.8381 14.4354H12.8382C12.9979 14.4354 13.1258 14.4228 13.2386 14.4117L13.3101 14.4049C13.7979 14.3617 14.8699 13.8062 15.1137 13.1286C15.3058 12.5949 15.3564 12.0118 15.2286 11.8002C15.1411 11.6563 14.9903 11.5839 14.7993 11.4922Z"
                                                            fill="#24292E"
                                                        />
                                                        <path
                                                            d="M10.1775 0C4.76089 0 0.354141 4.37364 0.354141 9.74955C0.354141 11.4883 0.819465 13.1903 1.70096 14.6799L0.0137512 19.6569C-0.0176774 19.7497 0.0056992 19.8523 0.0743356 19.9221C0.123881 19.9727 0.191089 20 0.259725 20C0.286024 20 0.312517 19.996 0.338362 19.9878L5.52797 18.3387C6.9481 19.0975 8.55317 19.498 10.1776 19.498C15.5937 19.4981 20 15.1249 20 9.74955C20 4.37364 15.5937 0 10.1775 0ZM10.1775 17.4671C8.64901 17.4671 7.16856 17.0258 5.89596 16.1907C5.85317 16.1626 5.80349 16.1482 5.75349 16.1482C5.72706 16.1482 5.70057 16.1522 5.67479 16.1604L3.07511 16.9868L3.91434 14.5108C3.94148 14.4307 3.92791 14.3423 3.87791 14.274C2.90882 12.9499 2.39654 11.3854 2.39654 9.74955C2.39654 5.49351 5.88706 2.03091 10.1775 2.03091C14.4673 2.03091 17.9575 5.49351 17.9575 9.74955C17.9575 14.0051 14.4675 17.4671 10.1775 17.4671Z"
                                                            fill="#24292E"
                                                        />
                                                    </svg>
                                                </span>
                                                <p>Message us on Whatsapp</p>
                                            </div>
                                        </li>
                                    </ul>
                                </div>
                                <div className="contact-rght-detail">
                                    <h4>Call us</h4>
                                    <p>Call our team on mon-fri, from 9AM to 6 PM</p>
                                    <ul>
                                        <li>
                                            <div className="contct-rght-list">
                                                <span>
                                                    <svg
                                                        width="18"
                                                        height="18"
                                                        viewBox="0 0 18 18"
                                                        fill="none"
                                                        xmlns="http://www.w3.org/2000/svg"
                                                    >
                                                        <path
                                                            d="M16.95 18C14.8667 18 12.8083 17.5458 10.775 16.6375C8.74167 15.7292 6.89167 14.4417 5.225 12.775C3.55833 11.1083 2.27083 9.25833 1.3625 7.225C0.454167 5.19167 0 3.13333 0 1.05C0 0.75 0.1 0.5 0.3 0.3C0.5 0.1 0.75 0 1.05 0H5.1C5.33333 0 5.54167 0.0791667 5.725 0.2375C5.90833 0.395833 6.01667 0.583333 6.05 0.8L6.7 4.3C6.73333 4.56667 6.725 4.79167 6.675 4.975C6.625 5.15833 6.53333 5.31667 6.4 5.45L3.975 7.9C4.30833 8.51667 4.70417 9.1125 5.1625 9.6875C5.62083 10.2625 6.125 10.8167 6.675 11.35C7.19167 11.8667 7.73333 12.3458 8.3 12.7875C8.86667 13.2292 9.46667 13.6333 10.1 14L12.45 11.65C12.6 11.5 12.7958 11.3875 13.0375 11.3125C13.2792 11.2375 13.5167 11.2167 13.75 11.25L17.2 11.95C17.4333 12.0167 17.625 12.1375 17.775 12.3125C17.925 12.4875 18 12.6833 18 12.9V16.95C18 17.25 17.9 17.5 17.7 17.7C17.5 17.9 17.25 18 16.95 18ZM3.025 6L4.675 4.35L4.25 2H2.025C2.10833 2.68333 2.225 3.35833 2.375 4.025C2.525 4.69167 2.74167 5.35 3.025 6ZM11.975 14.95C12.625 15.2333 13.2875 15.4583 13.9625 15.625C14.6375 15.7917 15.3167 15.9 16 15.95V13.75L13.65 13.275L11.975 14.95Z"
                                                            fill="#24292E"
                                                        />
                                                    </svg>
                                                </span>
                                                <p>+(918)762 8908</p>
                                            </div>
                                        </li>
                                    </ul>
                                </div>
                                <div className="contact-rght-detail">
                                    <h4>Visit us</h4>
                                    <p>Visit us for all your property needs.</p>
                                    <ul>
                                        <li>
                                            <div className="contct-rght-list">
                                                <span>
                                                    <svg
                                                        width="16"
                                                        height="20"
                                                        viewBox="0 0 16 20"
                                                        fill="none"
                                                        xmlns="http://www.w3.org/2000/svg"
                                                    >
                                                        <path
                                                            d="M8 17.35C10.0333 15.4833 11.5417 13.7875 12.525 12.2625C13.5083 10.7375 14 9.38333 14 8.2C14 6.38333 13.4208 4.89583 12.2625 3.7375C11.1042 2.57917 9.68333 2 8 2C6.31667 2 4.89583 2.57917 3.7375 3.7375C2.57917 4.89583 2 6.38333 2 8.2C2 9.38333 2.49167 10.7375 3.475 12.2625C4.45833 13.7875 5.96667 15.4833 8 17.35ZM8 19.325C7.76667 19.325 7.53333 19.2833 7.3 19.2C7.06667 19.1167 6.85833 18.9917 6.675 18.825C5.59167 17.825 4.63333 16.85 3.8 15.9C2.96667 14.95 2.27083 14.0292 1.7125 13.1375C1.15417 12.2458 0.729167 11.3875 0.4375 10.5625C0.145833 9.7375 0 8.95 0 8.2C0 5.7 0.804167 3.70833 2.4125 2.225C4.02083 0.741667 5.88333 0 8 0C10.1167 0 11.9792 0.741667 13.5875 2.225C15.1958 3.70833 16 5.7 16 8.2C16 8.95 15.8542 9.7375 15.5625 10.5625C15.2708 11.3875 14.8458 12.2458 14.2875 13.1375C13.7292 14.0292 13.0333 14.95 12.2 15.9C11.3667 16.85 10.4083 17.825 9.325 18.825C9.14167 18.9917 8.93333 19.1167 8.7 19.2C8.46667 19.2833 8.23333 19.325 8 19.325ZM8 10C8.55 10 9.02083 9.80417 9.4125 9.4125C9.80417 9.02083 10 8.55 10 8C10 7.45 9.80417 6.97917 9.4125 6.5875C9.02083 6.19583 8.55 6 8 6C7.45 6 6.97917 6.19583 6.5875 6.5875C6.19583 6.97917 6 7.45 6 8C6 8.55 6.19583 9.02083 6.5875 9.4125C6.97917 9.80417 7.45 10 8 10Z"
                                                            fill="#24292E"
                                                        />
                                                    </svg>
                                                </span>
                                                <p>www.Addisnest...</p>
                                            </div>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </>
    );
};

export default ContactUs;
